	EXPORT	j_rev_dct

j_rev_dct:
	MOVEM.L	D3-D7/A2-A6,-(A7)
	MOVEA.L	A0,A6
T010:	MOVEM.W	(A0),D0-D7
	OR.W	D2,D1
	OR.W	D3,D1
	OR.W	D4,D1
	OR.W	D5,D1
	OR.W	D6,D1
	OR.W	D7,D1
	BNE.B	T011
	LSL.W	#2,D0
	MOVE.W	D0,(A0)+
	MOVE.W	D0,(A0)+
	MOVE.W	D0,(A0)+
	MOVE.W	D0,(A0)+
	MOVE.W	D0,(A0)+
	MOVE.W	D0,(A0)+
	MOVE.W	D0,(A0)+
	BRA	T046
T011:	MOVE.W	D2,D1
	ADD.W	D6,D1
	MULS	#$187E,D2
	MULS	#$1151,D1
	MULS	#$C4DF,D6
	ADD.L	D1,D2
	ADD.L	D1,D6
	MOVE.L	D4,D1
	ADD.L	D0,D4
	SUB.L	D1,D0
	MOVEQ.L #$0D,D1
	LSL.L	D1,D4
	LSL.L	D1,D0
	MOVE.W	#$0400,D1
	ADD.L	D1,D4
	ADD.L	D1,D0
	MOVEA.L D4,A5
	MOVEA.L D4,A2
	MOVEA.L D0,A4
	MOVEA.L D0,A3
	ADDA.L	D2,A5
	SUBA.L	D2,A2
	ADDA.L	D6,A4
	SUBA.L	D6,A3
	MOVE.L	(A0),D1
	MOVE.W	D7,D6
	MOVE.W	D5,D4
	ADD.W	D3,D6
	ADD.W	D1,D4
	MOVE.W	D6,D2
	ADD.W	D4,D2
	MULS	#$C13B,D6
	MULS	#$25A1,D2
	MULS	#$F384,D4
	ADD.L	D2,D6
	ADD.L	D2,D4
	MOVE.W	D7,D0
	MOVE.W	D5,D2
	ADD.W	D1,D0
	ADD.W	D3,D2
	MULS	#$E333,D0
	MULS	#$ADFD,D2
	MULS	#$098E,D7
	MULS	#$41B3,D5
	MULS	#$6254,D3
	MULS	#$300B,D1
	ADD.L	D0,D7
	ADD.L	D0,D1
	ADD.L	D4,D5
	ADD.L	D4,D1
	ADD.L	D2,D5
	ADD.L	D2,D3
	ADD.L	D6,D7
	ADD.L	D6,D3
	MOVEQ.L #$0B,D2
	MOVE.L	A5,D0
	SUB.L	D1,D0
	ADD.L	A5,D1
	ASR.L	D2,D1
	MOVE.W	D1,(A0)+
	MOVE.L	A4,D6
	MOVE.L	A3,D1
	MOVE.L	A2,D4
	SUB.L	D3,D6
	SUB.L	D5,D1
	SUB.L	D7,D4
	ADD.L	A4,D3
	ADD.L	A3,D5
	ADD.L	A2,D7
	ASR.L	D2,D3
	MOVE.W	D3,(A0)+
	ASR.L	D2,D5
	MOVE.W	D5,(A0)+
	ASR.L	D2,D7
	MOVE.W	D7,(A0)+
	ASR.L	D2,D4
	MOVE.W	D4,(A0)+
	ASR.L	D2,D1
	MOVE.W	D1,(A0)+
	ASR.L	D2,D6
	MOVE.W	D6,(A0)+
	ASR.L	D2,D0
T046:	MOVE.W	D0,(A0)+
	CMPA.L	A1,A0
	BCS	T010
T2A2:	LEA.L	$0010(A6),A0
T2A6:	MOVE.W	(A6),D0
	EXT.L	D0
	MOVE.W	$0020(A6),D4
	MOVE.W	$0060(A6),D5
	MOVE.W	D4,D3
	ADD.W	D5,D3
	MULS	#$187E,D4
	MULS	#$1151,D3
	MULS	#$C4DF,D5
	ADD.L	D3,D4
	ADD.L	D3,D5
	MOVE.L	D0,D7
	MOVE.W	$0040(A6),D3
	EXT.L	D3
	MOVEQ.L #$0D,D1
	MOVEQ.L	#$02,D2
	ADD.L	D3,D0
	SUB.L	D3,D7
	SWAP	D2
	LSL.L	D1,D0
	LSL.L	D1,D7
	ADD.L	D2,D0
	ADD.L	D2,D7
	MOVEA.L D0,A5
	MOVEA.L D0,A2
	MOVEA.L D7,A4
	MOVEA.L D7,A3
	ADDA.L	D4,A5
	SUBA.L	D4,A2
	ADDA.L	D5,A4
	SUBA.L	D5,A3
	MOVE.W	$0070(A6),D6
	MOVE.W	$0050(A6),D7
	MOVE.W	$0030(A6),D4
	MOVE.W	$0010(A6),D5
	MOVE.W	D6,D3
	MOVE.W	D7,D1
	ADD.W	D4,D3
	ADD.W	D5,D1
	MOVE.W	D3,D2
	ADD.W	D1,D2
	MULS	#$C13B,D3
	MULS	#$25A1,D2
	MULS	#$F384,D1
	ADD.L	D2,D3
	ADD.L	D2,D1
	MOVE.W	D6,D0
	MOVE.W	D7,D2
	ADD.W	D5,D0
	ADD.W	D4,D2
	MULS	#$E333,D0
	MULS	#$ADFD,D2
	MULS	#$098E,D6
	MULS	#$41B3,D7
	MULS	#$6254,D4
	MULS	#$300B,D5
	ADD.L	D0,D6
	ADD.L	D0,D5
	ADD.L	D1,D7
	ADD.L	D1,D5
	ADD.L	D2,D7
	ADD.L	D2,D4
	ADD.L	D3,D6
	ADD.L	D3,D4
	MOVEQ.L #$12,D2
	MOVE.L	A5,D3
	MOVE.L	A4,D0
	SUB.L	D5,D3
	SUB.L	D4,D0
	ASR.L	D2,D3
	MOVE.W	D3,$0070(A6)
	ASR.L	D2,D0
	MOVE.W	D0,$0060(A6)
	MOVE.L	A3,D3
	MOVE.L	A2,D0
	SUB.L	D7,D3
	SUB.L	D6,D0
	ASR.L	D2,D3
	MOVE.W	D3,$0050(A6)
	ASR.L	D2,D0
	MOVE.W	D0,$0040(A6)
	ADD.L	A2,D6
	ADD.L	A3,D7
	ADD.L	A4,D4
	ADD.L	A5,D5
	ASR.L	D2,D6
	MOVE.W	D6,$0030(A6)
	ASR.L	D2,D7
	MOVE.W	D7,$0020(A6)
	ASR.L	D2,D4
	MOVE.W	D4,$0010(A6)
	ASR.L	D2,D5
	MOVE.W	D5,(A6)+
	CMPA.L	A0,A6
	BCS	T2A6
	LEA.L	$0070(A6),A6
	CMPA.L	A1,A6
	BCS	T2A2
	MOVEM.L (A7)+,D3-D7/A2-A6
	RTS
